<!doctype html>
<meta charset="UTF-8"> 

<title>Example</title>

<style>
body { margin: 0; }
</style>

<script src="https://cdn.jsdelivr.net/npm/jstat@1.9.5/dist/jstat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/svd-js@1.1.1/build-umd/svd-js.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/d3@7.3.0/dist/d3.min.js"></script>

<script src="langevitour.js"></script>

<div id="container"></div>

<script>
"use strict";

// Generate a sample dataset
let X = [ ], group = [ ];
let r = ()=>jStat.normal.sample(0,0.02);
for(let i=0;i<10000;i++) {
    let a=i/10000 * Math.PI * 2;
    X.push([ Math.sin(a)/3+r(), Math.sin(a*2)/3+r(), Math.sin(a*3)/3, Math.sin(a*4)/3, Math.sin(a*5)/3 ]);
    group.push( Math.floor(i/2500) );
}

// Extra axes (specified as columns of a matrix)
let extraAxes = [ 
    [1],
    [1],
    [0],
    [0],
    [0]
];
let extraAxesNames = [ 'V1+V2' ];
let extraAxesCenter = [ 0 ];


let container = document.getElementById("container");

let tour = new langevitour.Langevitour(container, window.innerWidth, window.innerHeight);

tour.renderValue({
    X:X, 
    group:group, 
    levels:['a','b','c','d'],
    colnames:['V1','V2','V3','V4','V5'],
    
    extraAxes:extraAxes,
    extraAxesNames:extraAxesNames,
    extraAxesCenter:extraAxesCenter,
    
    pointSize:1,
});


window.addEventListener('resize', ()=>tour.resize(window.innerWidth, window.innerHeight));

</script>